#N canvas 451 39 619 534 10;
#X declare -lib Gem -lib pdp -lib gridflow -lib mpc;
#X obj 18 72 tgl 20 0 empty \$0.startstop empty 17 7 0 10 -204786 -258113
-1 0 1;
#X text 42 75 <- start / stop;
#X obj 18 460 fps;
#X obj 18 220 t a a b;
#X obj 0 0 doc_demo;
#X obj 57 244 f;
#X obj 96 241 + 1;
#X msg 99 353 put_at \$1 0 0;
#X obj 45 354 #cast b;
#N canvas 77 257 278 238 check_movie_dim 0;
#X obj 26 37 #t;
#X obj 41 60 #dim;
#X obj 41 82 #change;
#X obj 26 12 inlet;
#X obj 26 198 outlet;
#X obj 41 104 #to_list;
#X obj 41 126 list split 2;
#X obj 41 174 s height_width;
#X msg 173 167 size h\$1 w\$2;
#X obj 173 191 outlet;
#X connect 0 0 4 0;
#X connect 0 1 1 0;
#X connect 1 0 2 0;
#X connect 2 0 5 0;
#X connect 3 0 0 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 6 0 8 0;
#X connect 8 0 9 0;
#X restore 18 182 pd check_movie_dim;
#X obj 123 205 display;
#N canvas 244 94 368 445 source 0;
#X obj 13 11 inlet;
#X obj 13 277 outlet;
#X obj 83 241 openpanel;
#X msg 83 264 open \$1;
#X obj 40 247 #in;
#X obj 13 182 shunt;
#X obj 13 211 #camera;
#X obj 278 30 hsl 70 13 1 1 0 0 \$0.load \$0.set.movie.r load_movie
0 7 1 10 -204786 -204786 -1 0 1;
#X obj 203 30 hsl 70 13 0 0 0 0 \$0.load \$0.set.cam.r set_camera 0
7 1 10 -204786 -204786 -1 0 1;
#X obj 50 45 r \$0.load;
#X obj 50 86 change -1;
#X obj 50 108 t a b;
#X msg 124 103 set -1;
#X obj 77 133 del 1000;
#X obj 83 220 sel 1;
#X obj 203 193 sel 0;
#X msg 203 260 vis 1;
#X obj 203 281 s pd-#camera.pd;
#X obj 201 44 cnv 15 148 15 empty \$0.playing empty 2 9 1 12 -228856
-66577 0;
#X msg 264 218 label camera;
#X obj 264 239 s \$0.playing;
#X obj 282 114 loadbang;
#X msg 282 135 label empty;
#X obj 282 158 s \$0.playing;
#X obj 99 293 gf/s2l /;
#X obj 126 335 list length;
#X obj 99 315 t a a;
#X obj 126 356 - 1;
#X obj 99 378 list split;
#X obj 127 422 s \$0.playing;
#X msg 127 401 label \$1;
#X msg 41 162 float \$1;
#X connect 0 0 5 0;
#X connect 2 0 3 0;
#X connect 2 0 24 0;
#X connect 3 0 4 0;
#X connect 4 0 1 0;
#X connect 5 0 6 0;
#X connect 5 1 4 0;
#X connect 6 0 1 0;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 11 0 15 0;
#X connect 11 0 14 0;
#X connect 11 0 31 0;
#X connect 11 1 13 0;
#X connect 12 0 10 0;
#X connect 13 0 12 0;
#X connect 14 0 2 0;
#X connect 15 0 16 0;
#X connect 15 0 19 0;
#X connect 16 0 17 0;
#X connect 19 0 20 0;
#X connect 21 0 22 0;
#X connect 22 0 23 0;
#X connect 24 0 26 0;
#X connect 25 0 27 0;
#X connect 26 0 28 0;
#X connect 26 1 25 0;
#X connect 27 0 28 1;
#X connect 28 1 30 0;
#X connect 30 0 29 0;
#X connect 31 0 5 1;
#X coords 0 -1 1 1 150 30 2 200 30;
#X restore 18 139 pd source;
#X obj 18 422 #store (600 640 3 b #);
#N canvas 590 615 199 271 adjust_buffer_size 0;
#X msg 39 141 1 b #;
#X obj 12 162 # + 0;
#X obj 39 121 loadbang;
#X obj 12 46 t a b;
#X msg 104 128 reassign;
#X obj 12 237 outlet;
#X obj 12 12 r height_width;
#X msg 12 101 \$1 \$2 3 b #;
#X connect 0 0 1 1;
#X connect 1 0 5 0;
#X connect 2 0 0 0;
#X connect 3 0 7 0;
#X connect 3 1 4 0;
#X connect 4 0 5 0;
#X connect 6 0 3 0;
#X connect 7 0 1 0;
#X restore 147 389 pd adjust_buffer_size;
#N canvas 158 251 251 282 slit 0;
#X obj 24 212 #slice (119 0) (120 640);
#X obj 156 88 r height_width;
#X msg 82 166 \$1 0;
#X obj 82 144 t a a;
#X obj 165 169 + 1;
#X obj 165 191 pack f f;
#X obj 42 71 inlet;
#X obj 24 34 inlet;
#X obj 24 235 outlet;
#X msg 156 110 \$2;
#X connect 0 0 8 0;
#X connect 1 0 9 0;
#X connect 2 0 0 1;
#X connect 3 0 2 0;
#X connect 3 1 4 0;
#X connect 4 0 5 0;
#X connect 5 0 0 2;
#X connect 6 0 3 0;
#X connect 7 0 0 0;
#X connect 9 0 5 1;
#X restore 18 278 pd slit;
#X text 5 29 Copyright 2010 Roman Haefeli;
#X obj 135 238 r height_width;
#X msg 135 260 \$1;
#X obj 18 325 t a a;
#X obj 18 387 #finished;
#X obj 96 262 sel;
#X msg 96 282 0;
#X obj 96 304 s \$0.startstop;
#X obj 18 501 display;
#X msg 18 480 \$1 fps;
#X text 238 66 ROLLING SHUTTER;
#X text 239 74 ---------------;
#X text 237 89 This patch imitates a photo camera with a shutter in
the form of a narrow slit. During exposure the shutter scans the frame
so that different parts of the frame are exposed at different times.
This is in contrast with global shutter in which the entire frame is
exposed for the same time window.;
#X text 238 182 http://en.wikipedia.org/wiki/Rolling_shutter;
#X obj 18 441 #out window \, title rolling_shutter;
#X text 150 107 <- set fps;
#X obj 353 312 import Gem pdp gridflow mpc;
#X obj 18 105 mpc.gf.setfps 30;
#X connect 0 0 32 0;
#X connect 2 0 24 0;
#X connect 3 0 14 0;
#X connect 3 2 5 0;
#X connect 5 0 6 0;
#X connect 5 0 14 1;
#X connect 5 0 7 0;
#X connect 6 0 20 0;
#X connect 7 0 12 1;
#X connect 8 0 12 1;
#X connect 9 0 3 0;
#X connect 9 1 10 0;
#X connect 11 0 9 0;
#X connect 12 0 29 0;
#X connect 13 0 12 1;
#X connect 14 0 18 0;
#X connect 16 0 17 0;
#X connect 17 0 20 1;
#X connect 18 0 19 0;
#X connect 18 1 8 0;
#X connect 19 0 12 0;
#X connect 20 0 21 0;
#X connect 20 1 5 1;
#X connect 21 0 5 1;
#X connect 21 0 22 0;
#X connect 24 0 23 0;
#X connect 29 0 2 0;
#X connect 32 0 11 0;
