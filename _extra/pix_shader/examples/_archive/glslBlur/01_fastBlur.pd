#N canvas 624 51 566 535 10;
#N canvas 498 297 829 594 controlBlur 0;
#X obj 43 138 / 5;
#X floatatom 321 71 5 0 0 0 - - -;
#X floatatom 43 167 5 0 0 0 - - -;
#X obj 265 107 * 1;
#X floatatom 265 130 5 0 0 0 - - -;
#X floatatom 321 130 5 0 0 0 - - -;
#X obj 321 108 * 1.5;
#X floatatom 380 130 5 0 0 0 - - -;
#X obj 43 8 inlet;
#X obj 265 152 s amt.1;
#X obj 321 152 s amt.2;
#X obj 380 152 s amt.3;
#X obj 380 108 * 2;
#X obj 203 262 r size;
#X obj 38 285 expr min(0.2 / $f1 \, 1) * $f2;
#X obj 429 259 r size;
#X obj 264 282 expr min(0.3 / $f1 \, 1) * $f2;
#X obj 203 354 r size;
#X obj 38 377 expr min(0.5 / $f1 \, 1) * $f2;
#X obj 427 357 r size;
#X obj 262 380 expr min(0.8 / $f1 \, 1) * $f2;
#X obj 43 112 clip 0.1 5;
#X text 84 167 normalized;
#X obj 43 189 s normalizedAmount;
#X obj 38 262 r normalizedAmount;
#X obj 264 260 r normalizedAmount;
#X obj 38 354 r normalizedAmount;
#X obj 262 357 r normalizedAmount;
#X text 36 223 Calculate the downsampling amount;
#X obj 82 87 s amt;
#X obj 321 47 r amt;
#X text 257 16 Calculate blur amount;
#X obj 82 7 loadbang;
#X obj 43 88 + 0;
#X obj 82 29 t b b;
#X obj 125 87 s size;
#X msg 82 56 0;
#X obj 38 305 int;
#X obj 264 302 int;
#X obj 38 403 int;
#X obj 262 401 int;
#X floatatom 64 305 5 0 0 0 - - -;
#X floatatom 291 302 5 0 0 0 - - -;
#X floatatom 66 404 5 0 0 0 - - -;
#X floatatom 290 401 5 0 0 0 - - -;
#X text 266 211 104 + 156 = 260;
#X obj 469 404 s quality;
#X msg 476 376 1;
#X obj 38 324 s size.4;
#X obj 265 323 s size.3;
#X obj 38 426 s size.2;
#X obj 262 422 s size.1;
#X msg 125 55 500;
#X connect 0 0 2 0;
#X connect 1 0 3 0;
#X connect 1 0 6 0;
#X connect 1 0 12 0;
#X connect 2 0 23 0;
#X connect 3 0 4 0;
#X connect 4 0 9 0;
#X connect 5 0 10 0;
#X connect 6 0 5 0;
#X connect 7 0 11 0;
#X connect 8 0 33 0;
#X connect 12 0 7 0;
#X connect 13 0 14 1;
#X connect 14 0 37 0;
#X connect 15 0 16 1;
#X connect 16 0 38 0;
#X connect 17 0 18 1;
#X connect 18 0 39 0;
#X connect 19 0 20 1;
#X connect 20 0 40 0;
#X connect 21 0 0 0;
#X connect 24 0 14 0;
#X connect 25 0 16 0;
#X connect 26 0 18 0;
#X connect 27 0 20 0;
#X connect 30 0 1 0;
#X connect 32 0 34 0;
#X connect 33 0 21 0;
#X connect 33 0 29 0;
#X connect 34 0 36 0;
#X connect 34 1 52 0;
#X connect 36 0 33 0;
#X connect 37 0 41 0;
#X connect 37 0 48 0;
#X connect 38 0 42 0;
#X connect 38 0 49 0;
#X connect 39 0 43 0;
#X connect 39 0 50 0;
#X connect 40 0 44 0;
#X connect 40 0 51 0;
#X connect 47 0 46 0;
#X connect 52 0 35 0;
#X restore 299 65 pd controlBlur;
#X obj 302 37 hsl 128 15 0.1 5 0 0 empty empty empty -2 -8 0 10 -257985
-1 -1 0 1;
#X obj 16 54 gemhead;
#X obj 16 130 gemframebuffer;
#X obj 28 80 loadbang;
#N canvas 374 139 397 198 gem.init 0;
#X obj 145 43 world_light;
#X obj 145 20 gemhead;
#X obj 27 112 gemwin;
#X msg 68 44 destroy;
#X obj 27 44 sel 1;
#X obj 27 20 inlet;
#X obj 155 124 r showUglyStuff;
#X msg 155 149 \; pd-tenPassBlur vis 1;
#X msg 27 77 dimen 500 500 \, lighting 1 \, title fastBlur-alpha \,
frame 60 \, create \, 1;
#X connect 1 0 0 0;
#X connect 3 0 2 0;
#X connect 4 0 8 0;
#X connect 4 1 3 0;
#X connect 5 0 4 0;
#X connect 6 0 7 0;
#X connect 8 0 2 0;
#X restore 43 7 pd gem.init;
#X obj 16 7 tgl 15 0 empty empty empty 17 7 0 10 -257985 -1 -1 0 1
;
#X msg 28 101 dimen 500 500 \, rectangle 1;
#X obj 16 185 translateXYZ 0 0 -4;
#N canvas 622 45 262 728 tenPassBlur 0;
#X msg 128 185 amount \$1 0;
#X msg 126 229 amount 0 \$1;
#X msg 124 275 amount \$1 0;
#X msg 123 319 amount 0 \$1;
#X msg 124 361 amount \$1 0;
#X msg 125 404 amount 0 \$1;
#X msg 123 454 amount 0 \$1;
#X obj 127 119 r amt.1;
#X obj 128 164 r amt.2;
#X obj 126 209 r amt.2;
#X obj 128 74 r amt.1;
#X msg 128 96 amount \$1 0;
#X msg 127 142 amount 0 \$1;
#X obj 124 254 r amt.2;
#X obj 123 298 r amt.2;
#X obj 143 338 r amt.3;
#X obj 125 382 r amt.3;
#X obj 123 432 r amt.1;
#X obj 67 75 r size.1;
#X obj 67 119 r size.1;
#X obj 67 163 r size.2;
#X obj 67 209 r size.2;
#X obj 67 255 r size.3;
#X obj 67 297 r size.3;
#N canvas 0 22 782 634 blurPass.1v 0;
#X obj 280 54 gemhead;
#X obj 281 352 square 4;
#X obj 281 224 pix_shader vBlur 2;
#X obj 280 168 gemframebuffer;
#X obj 280 193 translateXYZ 0 0 -4;
#X msg 328 146 dimen \$1 \$1;
#X obj 201 141 inlet;
#X obj 478 281 outlet;
#X obj 328 90 inlet;
#X obj 470 78 inlet;
#X msg 373 118 rectangle 1;
#X obj 373 89 loadbang;
#X obj 281 329 pix_texture;
#X obj 317 266 t b a;
#X msg 317 294 quality 1;
#X connect 0 0 3 0;
#X connect 2 0 12 0;
#X connect 3 0 4 0;
#X connect 3 1 7 0;
#X connect 4 0 2 0;
#X connect 5 0 3 0;
#X connect 6 0 13 0;
#X connect 8 0 5 0;
#X connect 9 0 2 1;
#X connect 10 0 3 0;
#X connect 11 0 10 0;
#X connect 12 0 1 0;
#X connect 13 0 14 0;
#X connect 13 1 12 1;
#X connect 14 0 12 0;
#X restore 27 141 pd blurPass.1v;
#N canvas 576 203 782 634 blurPass.1h 0;
#X obj 280 57 gemhead;
#X obj 280 168 gemframebuffer;
#X obj 280 193 translateXYZ 0 0 -4;
#X msg 295 118 dimen \$1 \$1;
#X obj 152 113 inlet;
#X obj 478 281 outlet;
#X obj 295 92 inlet;
#X obj 386 230 inlet;
#X msg 376 118 rectangle 1;
#X obj 376 95 loadbang;
#X obj 281 254 pix_shader vBlur 1;
#X obj 283 348 pix_texture;
#X obj 319 285 t b a;
#X msg 319 313 quality 1;
#X obj 283 375 square 4;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 5 0;
#X connect 2 0 10 0;
#X connect 3 0 1 0;
#X connect 4 0 12 0;
#X connect 6 0 3 0;
#X connect 7 0 10 1;
#X connect 8 0 1 0;
#X connect 9 0 8 0;
#X connect 10 0 11 0;
#X connect 11 0 14 0;
#X connect 12 0 13 0;
#X connect 12 1 11 1;
#X connect 13 0 11 0;
#X restore 27 97 pd blurPass.1h;
#N canvas 0 22 782 634 blurPass.2v 0;
#X obj 279 127 gemhead;
#X obj 285 436 square 4;
#X obj 280 168 gemframebuffer;
#X obj 280 193 translateXYZ 0 0 -4;
#X msg 328 146 dimen \$1 \$1;
#X obj 201 141 inlet;
#X obj 478 281 outlet;
#X obj 331 89 inlet;
#X obj 437 93 inlet;
#X msg 373 118 rectangle 1;
#X obj 376 85 loadbang;
#X obj 281 224 pix_shader vBlur 4;
#X obj 313 378 pix_texture;
#X obj 349 315 t b a;
#X msg 349 343 quality 1;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 2 1 6 0;
#X connect 3 0 11 0;
#X connect 4 0 2 0;
#X connect 5 0 13 0;
#X connect 7 0 4 0;
#X connect 8 0 11 1;
#X connect 9 0 2 0;
#X connect 10 0 9 0;
#X connect 11 0 12 0;
#X connect 12 0 1 0;
#X connect 13 0 14 0;
#X connect 13 1 12 1;
#X connect 14 0 12 0;
#X restore 27 230 pd blurPass.2v;
#N canvas 0 22 782 634 blurPass.2h 0;
#X obj 279 127 gemhead;
#X obj 280 437 square 4;
#X obj 280 168 gemframebuffer;
#X obj 280 193 translateXYZ 0 0 -4;
#X msg 328 146 dimen \$1 \$1;
#X obj 201 141 inlet;
#X obj 478 281 outlet;
#X obj 331 89 inlet;
#X obj 437 93 inlet;
#X msg 373 118 rectangle 1;
#X obj 376 85 loadbang;
#X obj 281 224 pix_shader vBlur 3;
#X obj 303 368 pix_texture;
#X obj 339 305 t b a;
#X msg 339 333 quality 1;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 2 1 6 0;
#X connect 3 0 11 0;
#X connect 4 0 2 0;
#X connect 5 0 13 0;
#X connect 7 0 4 0;
#X connect 8 0 11 1;
#X connect 9 0 2 0;
#X connect 10 0 9 0;
#X connect 11 0 12 0;
#X connect 12 0 1 0;
#X connect 13 0 14 0;
#X connect 13 1 12 1;
#X connect 14 0 12 0;
#X restore 27 187 pd blurPass.2h;
#N canvas 0 22 782 634 blurPass.3h 0;
#X obj 279 127 gemhead;
#X obj 280 392 square 4;
#X obj 280 168 gemframebuffer;
#X obj 280 193 translateXYZ 0 0 -4;
#X msg 328 146 dimen \$1 \$1;
#X obj 201 141 inlet;
#X obj 478 281 outlet;
#X obj 331 89 inlet;
#X obj 437 93 inlet;
#X msg 373 118 rectangle 1;
#X obj 376 85 loadbang;
#X obj 281 224 pix_shader vBlur 5;
#X obj 270 344 pix_texture;
#X obj 306 281 t b a;
#X msg 306 309 quality 1;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 2 1 6 0;
#X connect 3 0 11 0;
#X connect 4 0 2 0;
#X connect 5 0 13 0;
#X connect 7 0 4 0;
#X connect 8 0 11 1;
#X connect 9 0 2 0;
#X connect 10 0 9 0;
#X connect 11 0 12 0;
#X connect 12 0 1 0;
#X connect 13 0 14 0;
#X connect 13 1 12 1;
#X connect 14 0 12 0;
#X restore 27 276 pd blurPass.3h;
#N canvas 0 22 782 634 blurPass.3v 0;
#X obj 279 127 gemhead;
#X obj 294 415 square 4;
#X obj 280 168 gemframebuffer;
#X obj 280 193 translateXYZ 0 0 -4;
#X msg 328 146 dimen \$1 \$1;
#X obj 201 141 inlet;
#X obj 478 281 outlet;
#X obj 331 89 inlet;
#X obj 437 93 inlet;
#X msg 373 118 rectangle 1;
#X obj 376 85 loadbang;
#X obj 281 224 pix_shader vBlur 6;
#X obj 288 356 pix_texture;
#X obj 324 293 t b a;
#X msg 324 321 quality 1;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 2 1 6 0;
#X connect 3 0 11 0;
#X connect 4 0 2 0;
#X connect 5 0 13 0;
#X connect 7 0 4 0;
#X connect 8 0 11 1;
#X connect 9 0 2 0;
#X connect 10 0 9 0;
#X connect 11 0 12 0;
#X connect 12 0 1 0;
#X connect 13 0 14 0;
#X connect 13 1 12 1;
#X connect 14 0 12 0;
#X restore 27 319 pd blurPass.3v;
#X obj 67 341 r size.4;
#N canvas 0 22 782 634 blurPass.4h 0;
#X obj 279 127 gemhead;
#X obj 267 415 square 4;
#X obj 280 168 gemframebuffer;
#X obj 280 193 translateXYZ 0 0 -4;
#X msg 328 146 dimen \$1 \$1;
#X obj 201 141 inlet;
#X obj 478 281 outlet;
#X obj 331 89 inlet;
#X obj 437 93 inlet;
#X msg 373 118 rectangle 1;
#X obj 376 85 loadbang;
#X obj 281 224 pix_shader vBlur 7;
#X obj 268 351 pix_texture;
#X obj 304 288 t b a;
#X msg 304 316 quality 1;
#X obj 211 341 r tex;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 2 1 6 0;
#X connect 3 0 11 0;
#X connect 4 0 2 0;
#X connect 5 0 13 0;
#X connect 7 0 4 0;
#X connect 8 0 11 1;
#X connect 9 0 2 0;
#X connect 10 0 9 0;
#X connect 11 0 12 0;
#X connect 12 0 1 0;
#X connect 13 0 14 0;
#X connect 13 1 12 1;
#X connect 14 0 12 0;
#X connect 15 0 12 0;
#X restore 27 362 pd blurPass.4h;
#N canvas 211 167 782 634 blurPass.4v 0;
#X obj 279 127 gemhead;
#X obj 286 446 square 4;
#X obj 280 168 gemframebuffer;
#X obj 280 193 translateXYZ 0 0 -4;
#X msg 328 146 dimen \$1 \$1;
#X obj 201 141 inlet;
#X obj 478 281 outlet;
#X obj 331 89 inlet;
#X obj 437 93 inlet;
#X msg 373 118 rectangle 1;
#X obj 376 85 loadbang;
#X obj 281 224 pix_shader vBlur 8;
#X obj 294 362 pix_texture;
#X obj 330 299 t b a;
#X msg 330 327 quality 1;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 2 1 6 0;
#X connect 3 0 11 0;
#X connect 4 0 2 0;
#X connect 5 0 13 0;
#X connect 7 0 4 0;
#X connect 8 0 11 1;
#X connect 9 0 2 0;
#X connect 10 0 9 0;
#X connect 11 0 12 0;
#X connect 12 0 1 0;
#X connect 13 0 14 0;
#X connect 13 1 12 1;
#X connect 14 0 12 0;
#X restore 27 405 pd blurPass.4v;
#X obj 67 382 r size.4;
#N canvas 525 132 782 634 blurPass.5h 0;
#X obj 279 127 gemhead;
#X obj 280 371 square 4;
#X obj 280 168 gemframebuffer;
#X obj 280 193 translateXYZ 0 0 -4;
#X msg 328 146 dimen \$1 \$1;
#X obj 201 141 inlet;
#X obj 478 281 outlet;
#X obj 331 89 inlet;
#X obj 437 93 inlet;
#X msg 373 118 rectangle 1;
#X obj 376 85 loadbang;
#X obj 281 224 pix_shader vBlur 9;
#X obj 275 331 pix_texture;
#X obj 311 268 t b a;
#X msg 311 296 quality 1;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 2 1 6 0;
#X connect 3 0 11 0;
#X connect 4 0 2 0;
#X connect 5 0 13 0;
#X connect 7 0 4 0;
#X connect 8 0 11 1;
#X connect 9 0 2 0;
#X connect 10 0 9 0;
#X connect 11 0 12 0;
#X connect 12 0 1 0;
#X connect 13 0 14 0;
#X connect 13 1 12 1;
#X connect 14 0 12 0;
#X restore 27 455 pd blurPass.5h;
#X obj 67 431 r size.4;
#X obj 27 479 s finalOutput;
#X obj 27 26 inlet;
#X obj 27 519 gemhead;
#X obj 27 540 pix_shader vBlur 9;
#X msg 144 540 amount \$1 0;
#X obj 144 519 r amt.1;
#X obj 27 658 pix_texture;
#X obj 27 687 square 4;
#X text 159 623 <-- Ugly;
#X obj 54 568 cnv 15 100 80 empty empty empty 20 12 0 14 -257985 -66577
0;
#X obj 63 573 r finalOutput;
#X obj 63 595 t b a;
#X msg 63 623 quality 1;
#X connect 0 0 27 2;
#X connect 1 0 26 2;
#X connect 2 0 28 2;
#X connect 3 0 29 2;
#X connect 4 0 31 2;
#X connect 5 0 32 2;
#X connect 6 0 34 2;
#X connect 7 0 12 0;
#X connect 8 0 0 0;
#X connect 9 0 1 0;
#X connect 10 0 11 0;
#X connect 11 0 25 2;
#X connect 12 0 24 2;
#X connect 13 0 2 0;
#X connect 14 0 3 0;
#X connect 15 0 4 0;
#X connect 16 0 5 0;
#X connect 17 0 6 0;
#X connect 18 0 25 1;
#X connect 19 0 24 1;
#X connect 20 0 27 1;
#X connect 21 0 26 1;
#X connect 22 0 28 1;
#X connect 23 0 29 1;
#X connect 24 0 27 0;
#X connect 25 0 24 0;
#X connect 26 0 28 0;
#X connect 27 0 26 0;
#X connect 28 0 29 0;
#X connect 29 0 31 0;
#X connect 30 0 31 1;
#X connect 31 0 32 0;
#X connect 32 0 34 0;
#X connect 33 0 32 1;
#X connect 34 0 36 0;
#X connect 35 0 34 1;
#X connect 37 0 25 0;
#X connect 38 0 39 0;
#X connect 39 0 42 0;
#X connect 40 0 39 1;
#X connect 41 0 40 0;
#X connect 42 0 43 0;
#X connect 46 0 47 0;
#X connect 47 0 48 0;
#X connect 47 1 42 1;
#X connect 48 0 42 0;
#X restore 97 153 pd tenPassBlur;
#X obj 8 283 cnv 15 125 200 empty empty empty 20 12 0 14 -228856 -66577
0;
#X floatatom 82 334 5 0 0 0 - - -;
#X obj 16 362 rotateXYZ 30 30 0;
#X obj 16 385 colorRGB 1 0 1;
#X obj 16 408 teapot 1.5;
#N canvas 385 358 230 231 shunt 0;
#X obj 171 17 inlet;
#X obj 72 67 * -1;
#X obj 72 91 + 1;
#X obj 27 17 inlet;
#X obj 27 200 outlet;
#X obj 126 197 outlet;
#X obj 27 117 spigot 1;
#X obj 126 115 spigot 0;
#X connect 0 0 1 0;
#X connect 0 0 7 1;
#X connect 1 0 2 0;
#X connect 2 0 6 1;
#X connect 3 0 6 0;
#X connect 3 0 7 0;
#X connect 6 0 4 0;
#X connect 7 0 5 0;
#X restore 16 223 pd shunt;
#X obj 77 224 tgl 15 0 empty empty empty 17 7 0 10 -257985 -1 -1 0
1;
#X obj 152 283 cnv 15 125 200 empty empty empty 20 12 0 14 -228856
-66577 0;
#X obj 169 385 colorRGB 1 1 0;
#X text 76 286 Scene A;
#X text 223 287 Scene B;
#X text 101 223 Scene A / Scene B;
#X obj 169 360 rotateXYZ 0 0 45;
#X obj 169 409 square 2.8;
#X text 295 130 1 [pix_texture] right inlet;
#X text 298 246 2 Looping image around borders;
#X text 295 150 A terrible workaround is needed:;
#X text 298 268 Even by using;
#X msg 386 268 repeat 0;
#X text 297 307 image \, this is visible when blur amount;
#X text 298 288 borders interpolate to the looping;
#X text 447 269 message the;
#X obj 359 207 bng 15 250 50 0 showUglyStuff empty empty 17 7 0 10
-262144 -1 -1;
#X text 297 388 3 Console flooding;
#X text 298 410 For every;
#X msg 360 410 dimen x y;
#X text 426 409 change the frame;
#X text 298 430 buffer is destroyed and created. This;
#X text 299 449 means console flooding by [gemframebuffer];
#X text 298 468 and a loss in performance.;
#N canvas 300 126 401 278 credits 0;
#X text 23 122 Tested on Pd 0.42.5 with Gem 0.92.3;
#X text 24 142 MacOSX 10.5.8 nVidia GeForce 9400M;
#X text 23 205 This work is licensed by:;
#X text 23 224 Creative Commons Attribution-NonCommercial-ShareAlike
3;
#X text 23 243 http://creativecommons.org/licenses/by-nc-sa/3.0/;
#X text 23 66 Ported from Quartz Plug-in by Anton Marini;
#X text 22 14 GLSL Fast Blur for PD and Gem by Guido;
#X text 23 86 http://v002.info/;
#X text 23 34 http://guidotamino.it/download/glslBlur.zip;
#X text 24 172 Version 0.0.1;
#X restore 299 5 pd credits;
#X text 297 325 is set to max and a solid is bigger;
#X text 298 344 than the gem window (~ scene B).;
#X text 296 188 to assure the quality to be GL_LINEAR;
#X text 295 98 Bugs to be fixed:;
#X msg 298 170 quality 1;
#X text 363 170 message retriggered continuosly;
#X text 297 206 (see here;
#X text 375 205 );
#X connect 1 0 0 0;
#X connect 2 0 3 0;
#X connect 3 0 8 0;
#X connect 3 1 9 0;
#X connect 4 0 7 0;
#X connect 6 0 5 0;
#X connect 7 0 3 0;
#X connect 8 0 15 0;
#X connect 11 0 12 2;
#X connect 11 0 12 1;
#X connect 12 0 13 0;
#X connect 13 0 14 0;
#X connect 15 0 12 0;
#X connect 15 1 22 0;
#X connect 16 0 15 1;
#X connect 18 0 23 0;
#X connect 22 0 18 0;
